/*!
 * json-vue v0.0.1
 * (c) 2018-2019 xaboy
 * Github https://github.com/xaboy/json-vue
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("vue")):"function"==typeof define&&define.amd?define(["vue"],n):(e=e||self)["json-vue"]=n(e.Vue)}(this,function(e){"use strict";function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function o(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function i(e){return o(e,"String")}e=e&&e.hasOwnProperty("default")?e.default:e;var u=function(){function t(e,r){n(this,t),this.templateCache=new Map,this.jv=e,this.vm=r}return r(t,[{key:"render",value:function(){var e=this,n=this.jv.config.rule;return o(n,"Function")&&(n=n.call(this.vm)),Array.isArray(n)?n.map(function(n){return e.renderRule(n)}):this.renderRule(n)}},{key:"renderRule",value:function(e){if("template"===e.type&&e.template)return this.renderTemplate(e);var n=this.renderChildren(e.children||[]);return this.vm.$createElement(e.type,function(e){var n={};return c.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n}(e),n)}},{key:"renderChildren",value:function(e){var n=this;return e.map(function(e){return i(e)?e:n.renderRule(e)})}},{key:"renderTemplate",value:function(n){return void 0===e.compile?(console.error("使用的 Vue 版本不支持 compile"),[]):(!this.templateCache.has(n)&&n.template&&(n.vm||(n.vm=new e),this.templateCache.set(n,e.compile(n.template))),function(e){if(!e.vm.$props)return;Object.keys(e.vm.$props).forEach(function(n){void 0!==e.props[n]&&(e.vm.$props[n]=e.props[n])})}(n),this.templateCache.get(n).render.call(n.vm))}}]),t}(),c=["class","style","attrs","props","domProps","on","nativeOn","directives","scopedSlots","slot","ref","key"];var a=function(){function t(e){var r,o;n(this,t),this.config=e,this.component={mixins:[(r=this).config],data:function(){return{rule:r.config.rule}},beforeCreate:function(){o=new u(r,this)},render:function(){return o.render()}}}return r(t,[{key:"mount",value:function(n){var t=new(e.extend(this.component));return t.$mount(),i(n)&&(n=document.querySelector(n)),void 0===n&&(n=document.body),n.append(t.$el),t}}]),t}();return"undefined"!=typeof window&&(window.jsonVue=a),a});
//# sourceMappingURL=json-vue.min.js.map
